{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thupa\\\\OneDrive\\\\Desktop\\\\fuel\\\\fuel-frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard({\n  token\n}) {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [services, setServices] = useState([]);\n  useEffect(() => {\n    if (!token) return;\n    fetch('http://localhost:5000/api/bookings', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(r => r.json()).then(setBookings).catch(console.error);\n    fetch('http://localhost:5000/api/services', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(r => r.json()).then(setServices).catch(console.error);\n  }, [token]);\n  if (!token) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Please login to view dashboard.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: bookings.map(b => {\n        var _b$fuel;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [(_b$fuel = b.fuel) === null || _b$fuel === void 0 ? void 0 : _b$fuel.name, \" - \", b.liters, \"L - \", b.status, \" - ETA: \", b.etaMinutes, \"min\"]\n        }, b._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 31\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Service Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: services.map(s => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [s.vehicleType, \" - \", s.description, \" - \", s.status]\n      }, s._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 31\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"AK1j+0E78KnTJERZqB+ECip6ECw=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Dashboard","token","_s","bookings","setBookings","services","setServices","fetch","headers","Authorization","then","r","json","catch","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","map","b","_b$fuel","fuel","name","liters","status","etaMinutes","_id","s","vehicleType","description","_c","$RefreshReg$"],"sources":["C:/Users/thupa/OneDrive/Desktop/fuel/fuel-frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function Dashboard({ token }) {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    if (!token) return;\r\n    fetch('http://localhost:5000/api/bookings', { headers: { Authorization: 'Bearer '+token } })\r\n      .then(r=>r.json()).then(setBookings).catch(console.error);\r\n    fetch('http://localhost:5000/api/services', { headers: { Authorization: 'Bearer '+token } })\r\n      .then(r=>r.json()).then(setServices).catch(console.error);\r\n  }, [token]);\r\n\r\n  if (!token) return <p>Please login to view dashboard.</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Bookings</h2>\r\n      <ul>{bookings.map(b => (<li key={b._id}>{b.fuel?.name} - {b.liters}L - {b.status} - ETA: {b.etaMinutes}min</li>))}</ul>\r\n\r\n      <h2>Your Service Bookings</h2>\r\n      <ul>{services.map(s => (<li key={s._id}>{s.vehicleType} - {s.description} - {s.status}</li>))}</ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}