{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thupa\\\\OneDrive\\\\Pictures\\\\Documents\\\\fuel\\\\fuel-frontend\\\\src\\\\pages\\\\BookingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookingPage({\n  token\n}) {\n  _s();\n  const [fuels, setFuels] = useState([]);\n  const [fuelId, setFuelId] = useState('');\n  const [liters, setLiters] = useState(10);\n  const [address, setAddress] = useState('');\n  useEffect(() => {\n    fetch('http://localhost:5000/api/fuels').then(r => r.json()).then(data => {\n      setFuels(data);\n      if (data[0]) setFuelId(data[0]._id);\n    });\n  }, []);\n  const submit = async e => {\n    e.preventDefault();\n    if (!token) return alert('Login required');\n    const res = await fetch('http://localhost:5000/api/bookings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      },\n      body: JSON.stringify({\n        fuelId,\n        liters,\n        address\n      })\n    });\n    const data = await res.json();\n    if (data._id) {\n      alert('Booking success! will be delivered in ~1 hour');\n    } else {\n      alert(data.msg || 'Booking failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Book Fuel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fuel:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: fuelId,\n          onChange: e => setFuelId(e.target.value),\n          children: fuels.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: f._id,\n            children: [f.name, \" - \\u20B9\", f.pricePerLiter, \"/L\"]\n          }, f._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Liters:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: liters,\n          onChange: e => setLiters(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Delivery Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: address,\n          onChange: e => setAddress(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Book Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingPage, \"e0mRtD6l1OdqqmqFGBP19aNLDBA=\");\n_c = BookingPage;\nvar _c;\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","BookingPage","token","_s","fuels","setFuels","fuelId","setFuelId","liters","setLiters","address","setAddress","fetch","then","r","json","data","_id","submit","e","preventDefault","alert","res","method","headers","Authorization","body","JSON","stringify","msg","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","map","f","name","pricePerLiter","type","Number","_c","$RefreshReg$"],"sources":["C:/Users/thupa/OneDrive/Pictures/Documents/fuel/fuel-frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function BookingPage({ token }){\r\n  const [fuels, setFuels] = useState([]);\r\n  const [fuelId, setFuelId] = useState('');\r\n  const [liters, setLiters] = useState(10);\r\n  const [address, setAddress] = useState('');\r\n\r\n  useEffect(()=>{\r\n    fetch('http://localhost:5000/api/fuels')\r\n      .then(r=>r.json())\r\n      .then(data=>{\r\n        setFuels(data);\r\n        if (data[0]) setFuelId(data[0]._id);\r\n      });\r\n  }, []);\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    if (!token) return alert('Login required');\r\n    const res = await fetch('http://localhost:5000/api/bookings', {\r\n      method:'POST',\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        Authorization: 'Bearer '+token\r\n      },\r\n      body: JSON.stringify({ fuelId, liters, address })\r\n    });\r\n    const data = await res.json();\r\n    if (data._id) {\r\n      alert('Booking success! will be delivered in ~1 hour');\r\n    } else {\r\n      alert(data.msg || 'Booking failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Book Fuel</h2>\r\n      <form onSubmit={submit}>\r\n        <div>\r\n          <label>Fuel:</label>\r\n          <select value={fuelId} onChange={e=>setFuelId(e.target.value)}>\r\n            {fuels.map(f => <option key={f._id} value={f._id}>{f.name} - â‚¹{f.pricePerLiter}/L</option>)}\r\n          </select>\r\n        </div>\r\n        <div><label>Liters:</label><input type=\"number\" value={liters} onChange={e=>setLiters(Number(e.target.value))} /></div>\r\n        <div><label>Delivery Address:</label><input value={address} onChange={e=>setAddress(e.target.value)} /></div>\r\n        <button type=\"submit\">Book Now</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}